<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PSD firmware &mdash; GDDAQ V20260110 文档</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=43047286"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../_static/translations.js?v=beaddf03"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="ZLE firmware" href="ZLE.html" />
    <link rel="prev" title="PHA firmware" href="PHA.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            GDDAQ
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../README.html">Introduction</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">INSTALL</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../INSTALL.html">Program installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FIRMWARE.html">Firmware</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">UserGuide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">GUI Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="Synchronization.html">Time synchronization</a></li>
<li class="toctree-l1"><a class="reference internal" href="GUI.html">Graphical interactive interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="SCOPE.html">SCOPE firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="PHA.html">PHA firmware</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">PSD firmware</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic">Basic</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#input">Input</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parameter-chgain">parameter ChGain</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-inputdelay">parameter InputDelay</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-chenable">parameter ChEnable</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-wavesource">parameter WaveSource</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-dcoffset">parameter DCOffset</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-polarity">parameter Polarity</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-vgagain">parameter VGAGain</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#trigger">Trigger</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parameter-wavetriggersource">parameter WaveTriggerSource</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-eventtriggersource">parameter EventTriggerSource</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-triggerthr">parameter TriggerThr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-selftriggerwidth">parameter SelfTriggerWidth</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#wave">Wave</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parameter-pretrigger">parameter PreTrigger</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-recordlength">parameter RecordLength</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-downsampingfactor">parameter DownsampingFactor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-analog0-1">parameter Analog0/1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-digital0-1-2-3">parameter Digital0/1/2/3</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#record">Record</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parameter-eventselector">parameter EventSelector</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-waveselector">parameter WaveSelector</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-energyskimlowdiscriminator">parameter EnergySkimLowDiscriminator</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-energyskimhighdiscriminator">parameter EnergySkimHighDiscriminator</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-wavesaving">parameter WaveSaving</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-endatareduction">parameter EnDataReduction</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#psd-t">PSD-T</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parameter-smoothingfactor">parameter SmoothingFactor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-triggersmoothing">parameter TriggerSmoothing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-triggerselection">parameter TriggerSelection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-cfddelay">parameter CFDDelay</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-cfdfraction">parameter CFDFraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-retriggerguard">parameter RetriggerGuard</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-triggerhysteresis">parameter TriggerHysteresis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-pileupgap">parameter PileupGap</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#psd-e">PSD-E</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parameter-baselineavg">parameter BaselineAvg</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-absolutebl">parameter AbsoluteBL</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-blguard">parameter BLGuard</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-chargesmoothing">parameter ChargeSmoothing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-shortgate">parameter ShortGate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-longgate">parameter LongGate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-offsetgate">parameter OffsetGate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-longpedestal">parameter LongPedestal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-shortpedestal">parameter ShortPedestal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-energygain">parameter EnergyGain</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-neutronthr">parameter NeutronThr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-eventreject">parameter EventReject</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-wavereject">parameter WaveReject</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#debug">Debug</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parameter-testpulseperiod">parameter TestPulsePeriod</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-testpulsewidth">parameter TestPulseWidth</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-testpulselowlevel">parameter TestPulseLowLevel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-testpulsehighlevel">parameter TestPulseHighLevel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-dacoutmode">parameter DACoutMode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-dacoutstaticlevel">parameter DACoutStaticLevel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-dacoutchselect">parameter DACoutChSelect</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-ipeamplitude">parameter IPEAmplitude</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-ipebaseline">parameter IPEBaseline</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-ipedecaytime">parameter IPEDecayTime</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-iperate">parameter IPERate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-ipetimemode">parameter IPETimeMode</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#logic-parameter">Logic parameter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#run">Run</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parameter-startsource">parameter StartSource</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-globaltriggersource">parameter GlobalTriggerSource</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-enautodisarmacq">parameter EnAutoDisarmAcq</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-rundelay">parameter RunDelay</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-busyinsource">parameter BusyInSource</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-clocksource">parameter ClockSource</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-enclockoutfp">parameter EnClockOutFP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#frontpanel">FrontPanel</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parameter-trgoutmode">parameter TrgOutMode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-gpiomode">parameter GPIOMode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-syncoutmode">parameter SyncOutMode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-iolevel">parameter IOlevel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-lvdsdirection">parameter LVDSDirection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-lvdsmode">parameter LVDSMode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-lvdstrgmask">parameter LVDSTrgMask</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-lvdsioreg">parameter LVDSIOReg</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#veto">Veto</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parameter-channelvetosource">parameter ChannelVetoSource</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-adcvetowidth">parameter ADCVetoWidth</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-vetosource">parameter VetoSource</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-vetowidth">parameter VetoWidth</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-vetopolarity">parameter VetoPolarity</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#itl">ITL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parameter-itla-bmask">parameter ITLA/BMask</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-itla-bpairlogic">parameter ITLA/BPairLogic</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-itla-bmainlogic">parameter  ITLA/BMainLogic</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-itla-bmajoritylev">parameter ITLA/BMajorityLev</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-itla-bgatewidth">parameter ITLA/BGateWidth</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-itla-bpolarity">parameter ITLA/BPolarity</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-itla-benretrigger">parameter ITLA/BEnRetrigger</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mask">mask</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parameter-itlconnect">parameter ITLConnect</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-channelstriggermask">parameter ChannelsTriggerMask</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-coincidencemask">parameter CoincidenceMask</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-anticoincidencemask">parameter AntiCoincidenceMask</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameter-coincidencelength">parameter CoincidenceLength</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ZLE.html">ZLE firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="OPEN.html">Open FPGA</a></li>
<li class="toctree-l1"><a class="reference internal" href="UserDPP.html">UserDPP Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="UserScope.html">UserScope Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="UDP.html">UDP</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Application</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Example/README.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Example/HPGe.html">HPGe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Example/Si.html">Si</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Example/UserDPP.html">UserDPP application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Example/LongWaveform.html">Ultra-Long Waveform Acquisition</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Analysis</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Data/README.html">Data analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Data/DecodeAndSort.html">Decoder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Data/EventBuilder.html">Event Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Data/DataAnalysis.html">Data analysis framework</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GDDAQ</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">PSD firmware</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/UsersGuide/PSD.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="psd-firmware">
<h1>PSD firmware<a class="headerlink" href="#psd-firmware" title="此标题的永久链接"></a></h1>
<section id="basic">
<h2>Basic<a class="headerlink" href="#basic" title="此标题的永久链接"></a></h2>
<section id="input">
<h3>Input<a class="headerlink" href="#input" title="此标题的永久链接"></a></h3>
<img alt="../_images/psd_basic_input.png" src="../_images/psd_basic_input.png" />
<section id="parameter-chgain">
<h4>parameter ChGain<a class="headerlink" href="#parameter-chgain" title="此标题的永久链接"></a></h4>
<p>Unique to x2730.</p>
<p>Sets the gain of the Variable Gain Amplifiers (VGA).
Unit of Measure: dB</p>
</section>
<section id="parameter-inputdelay">
<h4>parameter InputDelay<a class="headerlink" href="#parameter-inputdelay" title="此标题的永久链接"></a></h4>
<p>Set input delay. The value is set at groups of 4 channels for x2745/x2740.</p>
<p>Unit: sample</p>
</section>
<section id="parameter-chenable">
<h4>parameter ChEnable<a class="headerlink" href="#parameter-chenable" title="此标题的永久链接"></a></h4>
<p>Enable the channels for the acquisition, according to the Index. When the channel is disabled, it does not give any data and its self-trigger is off.</p>
<ul class="simple">
<li><p>True: The channel is enabled for the acquisition</p></li>
<li><p>False: The channel is disabled for the acquisition</p></li>
</ul>
</section>
<section id="parameter-wavesource">
<h4>parameter WaveSource<a class="headerlink" href="#parameter-wavesource" title="此标题的永久链接"></a></h4>
<p>In normal mode, the acquired waveform represents a sequence of ADC samples, resulting from the A/D conversion of the analog input. For test purposes, it is possible to replace the ADC data with internal data generators.</p>
<ul class="simple">
<li><dl class="simple">
<dt>ADC_DATA</dt><dd><ul>
<li><p>Data from the ADC (normal operating mode)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ADC_TEST_TOGGLE</dt><dd><ul>
<li><p>Toggle between 0x5555 and 0xAAAA (test mode)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ADC_TEST_RAMP</dt><dd><ul>
<li><p>16-bit ramp pattern (test mode)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ADC_TEST_SIN</dt><dd><ul>
<li><p>8-point sine wave test pattern</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ADC_TEST_PRBS</dt><dd><ul>
<li><p>16-bit PRBS generated by a 23-bit PRBS pattern generator (test mode)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Ramp</dt><dd><ul>
<li><p>Data from a ramp generator. It is actually a 16-bit field, where the 6 most significant bits identify the channel and the 10 less significant bits are the samples of a ramp from 0x000 up to 0x3FF (i.e. 0 to 1023). It is so a 10-bit ramp with offset given by “channel*1024”. For channel 0, it is a counter from 0 to 1023; for channel 1, it is a counter from 1024 to 2047, and so on</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>IPE</dt><dd><ul>
<li><p>Not implemented</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SquareWave</dt><dd><ul>
<li><p>Internally generated programmable square wave</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-dcoffset">
<h4>parameter DCOffset<a class="headerlink" href="#parameter-dcoffset" title="此标题的永久链接"></a></h4>
<p>A constant DC offset (controlled by a 16-bit DAC) is added to the analog input, individually for each channel, to adjust the position of the signal baseline (that is the “zero volt” of the analog input) within the dynamic range of the ADC. Because of the tolerance of the components, it is necessary to calibrate the offset DAC. The calibration is done by factory testing and normally it is not necessary to recalibrate the digitizer. It is however possible to perform a new calibration. The calibration parameters are stored in the flash memory of the board and loaded at power on. They are automatically applied by the internal logic every time the DCoffset parameter is written or read. DCoffset is expressed as a NUMBER number, in percent of the full-scale. When the DCoffset is 0, the baseline of the input signal is at 0 ADC counts. When the DCoffset is 100, the baseline of the input signal is at $2^{NBIT}-1$ ADC counts.</p>
</section>
<section id="parameter-polarity">
<h4>parameter Polarity<a class="headerlink" href="#parameter-polarity" title="此标题的永久链接"></a></h4>
<p>Allows to set the polarity of the input pulse.</p>
<ul class="simple">
<li><dl class="simple">
<dt>Positive</dt><dd><ul>
<li><p>Positive polarity</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Negative</dt><dd><ul>
<li><p>Negative polarity</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-vgagain">
<h4>parameter VGAGain<a class="headerlink" href="#parameter-vgagain" title="此标题的永久链接"></a></h4>
<p>Unique to x2745.</p>
<p>Set the gain of the variable gain amplifier (VGA) in increments of 0.5 dB. Parameter settings are grouped every 16 channels, with 64 channels divided into 4 groups. The minimum can be set to 0 and the maximum to 40.</p>
</section>
</section>
<section id="trigger">
<h3>Trigger<a class="headerlink" href="#trigger" title="此标题的永久链接"></a></h3>
<img alt="../_images/psd_basic_trigger.png" src="../_images/psd_basic_trigger.png" />
<section id="parameter-wavetriggersource">
<h4>parameter WaveTriggerSource<a class="headerlink" href="#parameter-wavetriggersource" title="此标题的永久链接"></a></h4>
<p>Allows to set the trigger source for the waveform. Setting this parameter means to get an event including the waveform and the associated time stamp and energy information..</p>
<ul class="simple">
<li><dl class="simple">
<dt>Disabled</dt><dd><ul>
<li><p>No trigger source enabled for the waveform</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Ch64Trigger</dt><dd><ul>
<li><p>One (or more) channel self-trigger can generate a trigger for a waveform</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ChSelfTrigger</dt><dd><ul>
<li><p>Channel self-trigger can generate a trigger for a waveform</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SwTrg</dt><dd><ul>
<li><p>Software Trigger can generate a trigger for a waveform</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ADCOverSaturation</dt><dd><ul>
<li><p>ADC Oversaturation can generate a trigger for a waveform</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ADCUnderSaturation</dt><dd><ul>
<li><p>ADC Undersaturation can generate a trigger for a waveform</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ExternalInhibit</dt><dd><ul>
<li><p>Inhibit can generate a trigger for a waveform</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TRGIN</dt><dd><ul>
<li><p>External TRGIN can generate a trigger for a waveform</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>GlobalTriggerSource</dt><dd><ul>
<li><p>Acquisition Trigger Source (the same of the Scope mode) can generate a trigger for a waveform</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>LVDS</dt><dd><ul>
<li><p>A signal on the LVDS connectors can generate a trigger for a waveform</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLA</dt><dd><ul>
<li><p>Internal Trigger Logic A can generate a trigger for a waveform</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLB</dt><dd><ul>
<li><p>Internal Trigger Logic B can generate a trigger for a waveform</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-eventtriggersource">
<h4>parameter EventTriggerSource<a class="headerlink" href="#parameter-eventtriggersource" title="此标题的永久链接"></a></h4>
<p>Allows to set the trigger source for a Time-Energy (T-E) event. Setting this parameter means to get an event including time stamp and energy information</p>
<ul class="simple">
<li><dl class="simple">
<dt>Disabled</dt><dd><ul>
<li><p>No trigger source enabled for the T-E event</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Ch64Trigger</dt><dd><ul>
<li><p>One (or more) channel self-trigger can generate a trigger for a T-E event</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ChSelfTrigger</dt><dd><ul>
<li><p>Channel self-trigger can generate a trigger for a T-E event</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SwTrg</dt><dd><ul>
<li><p>Software Trigger can generate a trigger for a T-E event</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TRGIN</dt><dd><ul>
<li><p>External TRGIN can generate a trigger for a T-E event</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>GlobalTriggerSource</dt><dd><ul>
<li><p>Acquisition Trigger Source (the same of the Scope mode) can generate a trigger for a T-E event</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>LVDS</dt><dd><ul>
<li><p>A signal on the LVDS connectors can generate a trigger for a T-E event</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLA</dt><dd><ul>
<li><p>Internal Trigger Logic A can generate a trigger for a T-E event</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLB</dt><dd><ul>
<li><p>Internal Trigger Logic B can generate a trigger for a T-E event</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-triggerthr">
<h4>parameter TriggerThr<a class="headerlink" href="#parameter-triggerthr" title="此标题的永久链接"></a></h4>
<p>Each channel of the digitizer has a digital leading-edge discriminator with programmable threshold able to self-trigger on the input pulses and generate a self-trigger signal (or an overthreshold signal) feeding the internal trigger logics or digitizer outputs. This parameter sets the trigger threshold. Typically, the value is relative to the baseline of the signal and the threshold is a 17-bit signed NUMBER number; in this case, the threshold automatically follows the baseline when the DCoffset parameter changes. Sometimes, it is preferable to set an absolute value for the threshold, referred to the ADC range. In this case, the threshold is unsigned NUMBER number.</p>
<p>Unit of Measure: ADC counts</p>
</section>
<section id="parameter-selftriggerwidth">
<h4>parameter SelfTriggerWidth<a class="headerlink" href="#parameter-selftriggerwidth" title="此标题的永久链接"></a></h4>
<p>The output of the digital leading-edge comparator, that generates the self-trigger signal, can be used in “linear” mode, meaning that it lasts for the time the signal remains above (or below) the threshold, thus acting as an “Over-Threshold” signal, or can pass through a programmable gate generator that makes it a fixed-width pulse. The gate generator is a non-retriggerable monostable that goes high when the threshold is crossed and returns low after the programmed time. This parameter defines the fixed width of the overthreshold pulse.</p>
<p>Unit of Measure: ns</p>
</section>
</section>
<section id="wave">
<h3>Wave<a class="headerlink" href="#wave" title="此标题的永久链接"></a></h3>
<img alt="../_images/psd_basic_wave.png" src="../_images/psd_basic_wave.png" />
<section id="parameter-pretrigger">
<h4>parameter PreTrigger<a class="headerlink" href="#parameter-pretrigger" title="此标题的永久链接"></a></h4>
<p>Time coming before the position of the trigger in the waveform (i.e. size of the pre-trigger window).</p>
<p>Unit of Measure: ns</p>
</section>
<section id="parameter-recordlength">
<h4>parameter RecordLength<a class="headerlink" href="#parameter-recordlength" title="此标题的永久链接"></a></h4>
<p>The waveform size. Integer representing the time in ns. The actual size of the waveform will be automatically rounded to the closest allowed value. It is possible to get the exact size by reading back the parameter. The record length in time depends on wave resolution.</p>
<p>Unit of Measure: ns</p>
</section>
<section id="parameter-downsampingfactor">
<h4>parameter DownsampingFactor<a class="headerlink" href="#parameter-downsampingfactor" title="此标题的永久链接"></a></h4>
<p>Downsampling factor for the waveform resolution.</p>
<ul class="simple">
<li><dl class="simple">
<dt>1</dt><dd><ul>
<li><p>x1</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>2</dt><dd><ul>
<li><p>x2</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>4</dt><dd><ul>
<li><p>x4</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>8</dt><dd><ul>
<li><p>x8</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-analog0-1">
<h4>parameter Analog0/1<a class="headerlink" href="#parameter-analog0-1" title="此标题的永久链接"></a></h4>
<ul class="simple">
<li><dl class="simple">
<dt>ADCInput</dt><dd><ul>
<li><p>ADC input probe</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ADCInputBaseline</dt><dd><ul>
<li><p>ADC input baseline probe</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>CFDFilter</dt><dd><ul>
<li><p>Constant Fraction Discriminator filter probe</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-digital0-1-2-3">
<h4>parameter Digital0/1/2/3<a class="headerlink" href="#parameter-digital0-1-2-3" title="此标题的永久链接"></a></h4>
<ul class="simple">
<li><dl class="simple">
<dt>Trigger</dt><dd><ul>
<li><p>Trigger probe</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>CFDFilterArmed</dt><dd><ul>
<li><p>Constant Fraction Discriminator Filter Armed probe</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ReTriggerGuard</dt><dd><ul>
<li><p>ReTrigger Guard probe</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ADCInputBaselineFreeze</dt><dd><ul>
<li><p>ADC Input Baseline Freeze probe</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ADCInputOverthreshold</dt><dd><ul>
<li><p>ADCInputOverthreshold</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ChargeReady</dt><dd><ul>
<li><p>Charge Ready probe</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>LongGate</dt><dd><ul>
<li><p>Long Gate probe</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>PileUpTrigger</dt><dd><ul>
<li><p>Pile Up Trigger probe</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ShortGate</dt><dd><ul>
<li><p>Short Gate probe</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ChargeOverRange</dt><dd><ul>
<li><p>Integrated Charge Over Range probe</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ADCSaturation</dt><dd><ul>
<li><p>ADC Saturation probe</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ADCInputNegativeOverthreshold</dt><dd><ul>
<li><p>ADC Input Negative Overthreshold probe</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
</section>
<section id="record">
<h3>Record<a class="headerlink" href="#record" title="此标题的永久链接"></a></h3>
<img alt="../_images/psd_basic_record.png" src="../_images/psd_basic_record.png" />
<section id="parameter-eventselector">
<h4>parameter EventSelector<a class="headerlink" href="#parameter-eventselector" title="此标题的永久链接"></a></h4>
<p>Allows to set which events have to be saved.</p>
<ul class="simple">
<li><dl class="simple">
<dt>All</dt><dd><ul>
<li><p>All events are saved</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>PileUp</dt><dd><ul>
<li><p>Only pileup events are saved</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>EnergySkim</dt><dd><ul>
<li><p>Save only the events in the Energy Skim range</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-waveselector">
<h4>parameter WaveSelector<a class="headerlink" href="#parameter-waveselector" title="此标题的永久链接"></a></h4>
<p>Allows to set which waveform have to be saved.</p>
<ul class="simple">
<li><dl class="simple">
<dt>All</dt><dd><ul>
<li><p>All waves are saved</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>PileUp</dt><dd><ul>
<li><p>Only pileup waves are saved</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>EnergySkim</dt><dd><ul>
<li><p>Save only waves in the Energy Skim range</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-energyskimlowdiscriminator">
<h4>parameter EnergySkimLowDiscriminator<a class="headerlink" href="#parameter-energyskimlowdiscriminator" title="此标题的永久链接"></a></h4>
<p>Allows to flag events with energy higher than the low skim threshold. 16-bit value.</p>
<p>Unit of Measure: bin</p>
</section>
<section id="parameter-energyskimhighdiscriminator">
<h4>parameter EnergySkimHighDiscriminator<a class="headerlink" href="#parameter-energyskimhighdiscriminator" title="此标题的永久链接"></a></h4>
<p>Allows to flag events with energy lower than the high skim threshold. 16-bit value.</p>
<p>Unit of Measure: bin</p>
</section>
<section id="parameter-wavesaving">
<h4>parameter WaveSaving<a class="headerlink" href="#parameter-wavesaving" title="此标题的永久链接"></a></h4>
<p>Allows to save waveforms always or on request only.</p>
<ul class="simple">
<li><dl class="simple">
<dt>Always</dt><dd><ul>
<li><p>Waveforms are always saved</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>OnRequest</dt><dd><ul>
<li><p>Waveforms are saved on request</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-endatareduction">
<h4>parameter EnDataReduction<a class="headerlink" href="#parameter-endatareduction" title="此标题的永久链接"></a></h4>
<p>If enabled, events consisting of 2 words are compressed in a single word event.</p>
<ul class="simple">
<li><dl class="simple">
<dt>True</dt><dd><ul>
<li><p>Option enabled</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>False</dt><dd><ul>
<li><p>Option disabled</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
</section>
<section id="psd-t">
<h3>PSD-T<a class="headerlink" href="#psd-t" title="此标题的永久链接"></a></h3>
<img alt="../_images/psd_basic_psdt.png" src="../_images/psd_basic_psdt.png" />
<section id="parameter-smoothingfactor">
<h4>parameter SmoothingFactor<a class="headerlink" href="#parameter-smoothingfactor" title="此标题的永久链接"></a></h4>
<p>The smoothing is a moving average filter, where the input samples are replaced by the mean value of the previous n samples, where n is: 2, 4, 8 and 16 samples. When enabled (see TimeFilterSmoothing), the trigger is applied on the smoothed samples, thus reducing triggering on noise. Both CFD and LED triggering modes can be used on the smoothed input. The charge integration is either performed on the input samples and/or on the smoothed samples, according the ChargeSmoothing parameter.</p>
<ul class="simple">
<li><dl class="simple">
<dt>1</dt><dd><ul>
<li><p>Smoothing is disabled.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>2</dt><dd><ul>
<li><p>Smoothing is done averaging 2 samples.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>4</dt><dd><ul>
<li><p>Smoothing is done averaging 4 samples.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>8</dt><dd><ul>
<li><p>Smoothing is done averaging 8 samples.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>16</dt><dd><ul>
<li><p>Smoothing is done averaging 16 samples.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<img alt="../_images/smoothing_factor.png" src="../_images/smoothing_factor.png" />
</section>
<section id="parameter-triggersmoothing">
<h4>parameter TriggerSmoothing<a class="headerlink" href="#parameter-triggersmoothing" title="此标题的永久链接"></a></h4>
<p>Enable/Disable Smoothing factor for the time filter.</p>
<ul class="simple">
<li><dl class="simple">
<dt>Enabled</dt><dd><ul>
<li><p>Smoothing factor is enabled for the time filter.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Disabled</dt><dd><ul>
<li><p>Smoothing factor is disabled for the time filter.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-triggerselection">
<h4>parameter TriggerSelection<a class="headerlink" href="#parameter-triggerselection" title="此标题的永久链接"></a></h4>
<p>The DPP‐PSD allows the user to select the pulses according to two methods: leading edge, where a pulse is identified when its samples crosses a programmable threshold value, or through a digital constant fraction discrimination to have a better timing information. In both cases once the event is selected, the signal is delayed by a programmable number of samples (corresponding to the “pre‐trigger” value in ns) to be able to integrate the pulse before the trigger (“Pre‐Gate”). The gates for charge integration are then generated and received by the charge accumulator before the signal. While the gates are active, the baseline remains frozen until the last averaged value and its value is used as charge integration reference. For the whole duration of a programmable “retrigger guard” (see TimeFilterRetriggerGuardT, TimeFilterRetriggerGuardS) value, other trigger signals are inhibited. It is recommended to set a trigger hold‐off value compatible with the signal width. The baseline remains frozen for the whole trigger hold‐off duration. This parameter allows to set the Leading Edge or Constant Fraction Discriminator Filter selection</p>
<ul class="simple">
<li><dl class="simple">
<dt>LeadingEdge</dt><dd><ul>
<li><p>Set the Leading Edge discriminator</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>CFD</dt><dd><ul>
<li><p>Set the Constant Fraction discriminator</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-cfddelay">
<h4>parameter CFDDelay<a class="headerlink" href="#parameter-cfddelay" title="此标题的永久链接"></a></h4>
<p>The x27xx digitizer running the DPP_PSD firmware discriminates events based on a CFD signal. The digital CFD signal has been implemented in the classical way except for the input signal inversion. The input waveform is first inverted, then attenuated by a factor f equal to the desired timing fraction (see CFDFraction) of full amplitude, then the signal is inverted again and delayed by a time d equal to the time it takes the pulse to rise from the constant fraction level to the pulse peak; the latest two signals are summed to produce a bipolar pulse, the CFD, and its zero crossing – corresponding to the fraction f of the input pulse – is taken as the trigger time.</p>
<p>The delay of the CFD signal can be defined by the user. The TriggerThreshold is then referred to the CFD itself, and the threshold crossing arms the event selection. The trigger fires at the zero crossing of the derivative signal itself.</p>
<p>Unit of Measure: ns</p>
<img alt="../_images/cfd_delay.png" src="../_images/cfd_delay.png" />
</section>
<section id="parameter-cfdfraction">
<h4>parameter CFDFraction<a class="headerlink" href="#parameter-cfdfraction" title="此标题的永久链接"></a></h4>
<p>CFD Fraction. Unit of Measure: %</p>
<ul class="simple">
<li><dl class="simple">
<dt>25</dt><dd><ul>
<li><p>25%</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>50</dt><dd><ul>
<li><p>50%</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>75</dt><dd><ul>
<li><p>75%</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>100</dt><dd><ul>
<li><p>100%</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-retriggerguard">
<h4>parameter RetriggerGuard<a class="headerlink" href="#parameter-retriggerguard" title="此标题的永久链接"></a></h4>
<p>In case of fast signal such as those coming from PMTs possible overshoots in the fast discriminator signal may occur causing a retrigger and so possible fake pile-up. This parameter allows to set a retrigger inhibit guard (in ns). 10-bit value.</p>
<p>Unit of Measure: ns</p>
</section>
<section id="parameter-triggerhysteresis">
<h4>parameter TriggerHysteresis<a class="headerlink" href="#parameter-triggerhysteresis" title="此标题的永久链接"></a></h4>
<p>When the input signal is no more over‐threshold, the trigger could fire again in the tail of the pulse, especially in case the tail contains spikes or noise. The “Trigger Hysteresis” feature inhibits any trigger until the input pulse reaches half of the threshold value itself. See for a diagram of this feature. This parameters allows to Enable/Disable Trigger hysteresis mechanism.</p>
<ul class="simple">
<li><dl class="simple">
<dt>Disabled</dt><dd><ul>
<li><p>Trigger hysteresis mechanism is disabled.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Enabled</dt><dd><ul>
<li><p>Trigger hysteresis mechanism is enabled.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<img alt="../_images/trigger_hysterisis.png" src="../_images/trigger_hysterisis.png" />
</section>
<section id="parameter-pileupgap">
<h4>parameter PileupGap<a class="headerlink" href="#parameter-pileupgap" title="此标题的永久链接"></a></h4>
<p>The DPP‐PSD firmware is mainly designed to work with fast signals like those coming from scintillation detectors coupled with Photomultiplier Tubes. The relevant output signals do not show long decay tails as in the case of charge sensitive preamplifiers, and the probability of pile‐up between two pulses is quite low. In particular, the case of a second pulse sitting on the exponential tail of the previous one is rather rare. However, with the PSD algorithm, it is important to separate fast and slow components of the light emitted by the scintillation detector. Typically, the fast component is a quick pulse (few tens of ns) while the slow component is a quite long tail (typically a few μs) having amplitude much smaller than the fast component. To get the best results in the pulse shape discrimination, it is necessary to set the “Long Gate” as long as the full duration of the slow component. Under these conditions, most likely the events in pile‐up occur during the long gate and cause an error in the calculation of the charge of the slow component. For this reason, it is important to detect these cases. In the DPP‐PSD firmware, two events are considered in pile‐up when there is a situation of peak‐valley‐peak inside the same gate, where the gap between the valley and the peak is a programmable value. Referring to Figure 6, when the peak value is reached the algorithm evaluates the point corresponding to the PileupGap (PUR-GAP) value and gets ready to detect a pile‐up event (PILE‐UP ARMED). If there is a condition of “valley”, and the input signal overcomes the PUR‐GAP threshold, then the event is tagged as pile‐up. In the default configuration the firmware does not take any action and the total charge of the event is evaluated within the gate and saved into memory.</p>
<p>This parameter allows to set the Peak Gap to identify pile up.</p>
<img alt="../_images/pileup_gap.png" src="../_images/pileup_gap.png" />
</section>
</section>
<section id="psd-e">
<h3>PSD-E<a class="headerlink" href="#psd-e" title="此标题的永久链接"></a></h3>
<img alt="../_images/psd_basic_psde.png" src="../_images/psd_basic_psde.png" />
<section id="parameter-baselineavg">
<h4>parameter BaselineAvg<a class="headerlink" href="#parameter-baselineavg" title="此标题的永久链接"></a></h4>
<p>The digitizer continuously receives the input signal and digitizes it. The position of the signal baseline can be adjusted in the ADC scale to exploit the full dynamics of the digitizer using the DCOffset parameter. The baseline value is an important parameter of the DPP‐PSD firmware, since its value is used as a reference value for the charge integration of the input pulses. Moreover, most of the DPP parameters are related to the baseline value, like the trigger threshold. The user can set either a fixed value for the baseline or let the DPP firmware calculate it dynamically. In the first case the user must set the baseline value in LSB units through the option Fixed. This value remains fixed for the entire acquisition run. In the latter case, the firmware dynamically evaluates the baseline as the mean value of N points inside a moving time window. The user can choose one of the below listed option each of them corresponding to a predefined number of samples. The baseline is then frozen from few clocks before the gates start, up to the end of the maximum value between the long gate and the trigger hold‐off (see GateLongLength and TimeFilterRetriggerGuard). This parameter allows to set the Number of samples used to average the baseline of the Energy Filter.</p>
<ul class="simple">
<li><dl class="simple">
<dt>Fixed</dt><dd><ul>
<li><p>Baseline fixed at AbsoluteBaseline value</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Low</dt><dd><ul>
<li><p>Baseline samples for average = 16</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>MediumLow</dt><dd><ul>
<li><p>Baseline samples for average = 64</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>MediumHigh</dt><dd><ul>
<li><p>Baseline samples for average = 256</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>High</dt><dd><ul>
<li><p>Baseline samples for average = 1024</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<img alt="../_images/adc_input_baseline_avg.png" src="../_images/adc_input_baseline_avg.png" />
</section>
<section id="parameter-absolutebl">
<h4>parameter AbsoluteBL<a class="headerlink" href="#parameter-absolutebl" title="此标题的永久链接"></a></h4>
<p>Absolute value of the ADCInput signal baseline.</p>
<p>Unit of Measure: ADC counts</p>
</section>
<section id="parameter-blguard">
<h4>parameter BLGuard<a class="headerlink" href="#parameter-blguard" title="此标题的永久链接"></a></h4>
<p>Energy Filter Baseline Evaluation Guard before the integration gate open in nanoseconds (ns).</p>
</section>
<section id="parameter-chargesmoothing">
<h4>parameter ChargeSmoothing<a class="headerlink" href="#parameter-chargesmoothing" title="此标题的永久链接"></a></h4>
<p>Enable/Disable Smoothing factor for the charge evaluation.</p>
<ul class="simple">
<li><dl class="simple">
<dt>Enabled</dt><dd><ul>
<li><p>Smoothing factor is enabled in the charge evaluation</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Disabled</dt><dd><ul>
<li><p>Smoothing factor is disabled in the charge evaluation</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-shortgate">
<h4>parameter ShortGate<a class="headerlink" href="#parameter-shortgate" title="此标题的永久链接"></a></h4>
<p>This parameter allows to set the Gate Short Length.</p>
<p>Unit of Measure: ns</p>
</section>
<section id="parameter-longgate">
<h4>parameter LongGate<a class="headerlink" href="#parameter-longgate" title="此标题的永久链接"></a></h4>
<p>The aim of the DPP‐PSD firmware is to perform a charge integration of the input signal and to calculate the PSD factor performing a double gate integration of the input (Qshort and Qlong). Figure below shows the short and long gates position for two signals of different shapes. This parameter allows to set the Gate Long Length.</p>
<p>Unit of Measure: ns</p>
<img alt="../_images/long_short_gate.png" src="../_images/long_short_gate.png" />
</section>
<section id="parameter-offsetgate">
<h4>parameter OffsetGate<a class="headerlink" href="#parameter-offsetgate" title="此标题的永久链接"></a></h4>
<p>This parameter allows to set the Gate Offset with respect to the trigger signal.</p>
<p>Unit of Measure: ns</p>
</section>
<section id="parameter-longpedestal">
<h4>parameter LongPedestal<a class="headerlink" href="#parameter-longpedestal" title="此标题的永久链接"></a></h4>
<p>This parameter allows to set the Long Charge Integrator Pedestal. This feature is useful in case of energies close to zero.</p>
</section>
<section id="parameter-shortpedestal">
<h4>parameter ShortPedestal<a class="headerlink" href="#parameter-shortpedestal" title="此标题的永久链接"></a></h4>
<p>This parameter allows to set the Long Charge Integrator Pedestal. This feature is useful in case of energies close to zero.</p>
</section>
<section id="parameter-energygain">
<h4>parameter EnergyGain<a class="headerlink" href="#parameter-energygain" title="此标题的永久链接"></a></h4>
<p>This parameter allows to set the Energy Gain i.e. to rescale the signal charge.</p>
<ul class="simple">
<li><dl class="simple">
<dt>x1</dt><dd><ul>
<li><p>Charge value is multiplied x1.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>x4</dt><dd><ul>
<li><p>Charge value is multiplied x4.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>x16</dt><dd><ul>
<li><p>Charge value is multiplied x16.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>x64</dt><dd><ul>
<li><p>Charge value is multiplied x64.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>x256</dt><dd><ul>
<li><p>Charge value is multiplied x256.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-neutronthr">
<h4>parameter NeutronThr<a class="headerlink" href="#parameter-neutronthr" title="此标题的永久链接"></a></h4>
<p>This parameter allows to set the Neutron Energy Threshold for Neutron Discriminator. The FW compare the difference “Energy Long” – “Energy Short” (i.e. the difference between the charge integrated in the Long gate and in the Short gate) with the threshold set by this parameter to decide whether the event has to be rejected. Referring to the example of neutron/gamma discrimination shown in the figure below, the cut on PSD allows the user to reject most of the gamma events, thus recording only neutrons and the small amount of gamma overlapping with the neutrons.</p>
<img alt="../_images/neutron_threshold.png" src="../_images/neutron_threshold.png" />
</section>
<section id="parameter-eventreject">
<h4>parameter EventReject<a class="headerlink" href="#parameter-eventreject" title="此标题的永久链接"></a></h4>
<p>Enable Neutron Rejection for Events. See NeutronThreshold parameter</p>
<ul class="simple">
<li><dl class="simple">
<dt>Disabled</dt><dd><ul>
<li><p>Neutron rejection for events is disabled.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Enabled</dt><dd><ul>
<li><p>Neutron rejection for events is enabled.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-wavereject">
<h4>parameter WaveReject<a class="headerlink" href="#parameter-wavereject" title="此标题的永久链接"></a></h4>
<p>Enable Neutron Rejection for Waves. See NeutronThreshold parameter</p>
<ul class="simple">
<li><dl class="simple">
<dt>Disabled</dt><dd><ul>
<li><p>Neutron rejection for waves is disabled.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Enabled</dt><dd><ul>
<li><p>Neutron rejection for waves is enabled.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
</section>
<section id="debug">
<h3>Debug<a class="headerlink" href="#debug" title="此标题的永久链接"></a></h3>
<img alt="../_images/psd_basic_debug.png" src="../_images/psd_basic_debug.png" />
<section id="parameter-testpulseperiod">
<h4>parameter TestPulsePeriod<a class="headerlink" href="#parameter-testpulseperiod" title="此标题的永久链接"></a></h4>
<p>The Test Pulse is a programmable square wave that can be used as an internal periodic trigger (mainly for test purposes) or to generate a logic test pulse (TTL or NIM) on the TRGOUT and GPIO outputs. This parameter sets the period of the Test Pulse.</p>
<p>Unit of Measure: ns</p>
</section>
<section id="parameter-testpulsewidth">
<h4>parameter TestPulseWidth<a class="headerlink" href="#parameter-testpulsewidth" title="此标题的永久链接"></a></h4>
<p>Width of the Test Pulse (time that the signal stays high = 1).</p>
<p>Unit of Measure: ns</p>
</section>
<section id="parameter-testpulselowlevel">
<h4>parameter TestPulseLowLevel<a class="headerlink" href="#parameter-testpulselowlevel" title="此标题的永久链接"></a></h4>
<p>Low level of the Test Pulse expressed in ADC counts</p>
<p>Unit of Measure: ADC counts</p>
</section>
<section id="parameter-testpulsehighlevel">
<h4>parameter TestPulseHighLevel<a class="headerlink" href="#parameter-testpulsehighlevel" title="此标题的永久链接"></a></h4>
<p>High level of the Test Pulse expressed in ADC counts</p>
<p>Unit of Measure: ADC counts</p>
</section>
<section id="parameter-dacoutmode">
<h4>parameter DACoutMode<a class="headerlink" href="#parameter-dacoutmode" title="此标题的永久链接"></a></h4>
<p>Selects the signal type to be sent in output on the front panel DAC connector.</p>
<ul class="simple">
<li><dl class="simple">
<dt>Static</dt><dd><ul>
<li><p>DAC output stays at a fixed level, given by the DACoutStaticLevel parameter</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Ramp</dt><dd><ul>
<li><p>The DAC output is driven by a 14-bit counter</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Sin5MHz</dt><dd><ul>
<li><p>The DAC output is a sine wave at 5 MHz with fixed amplitude</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Square</dt><dd><ul>
<li><p>Square wave with period and with set by TestPulsePeriod and TestPulseWidth and amplitude between TestPulseLoweLevel and TestPulseHighLevel.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>IPE</dt><dd><ul>
<li><p>Not implemented</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ChInput</dt><dd><ul>
<li><p>The DAC reproduces the input signal received by one input channel, selected by the DACoutChSelect parameter</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>MemOccupancy</dt><dd><ul>
<li><p>Level of the memory occupancy (not yet implemented)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ChSum</dt><dd><ul>
<li><p>The DAC reproduces the “analog” sum of all the digitizer inputs (not yet implemented)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>OverThrSum</dt><dd><ul>
<li><p>The DAC output is proportional to the number of channels that are currently above the threshold</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-dacoutstaticlevel">
<h4>parameter DACoutStaticLevel<a class="headerlink" href="#parameter-dacoutstaticlevel" title="此标题的永久链接"></a></h4>
<p>When DACoutMode = Static, this parameter sets the 14-bit level of the DAC static output.</p>
</section>
<section id="parameter-dacoutchselect">
<h4>parameter DACoutChSelect<a class="headerlink" href="#parameter-dacoutchselect" title="此标题的永久链接"></a></h4>
<p>When DACoutMode = ChInput, the DAC reproduces the input signal of the channel selected by this parameter.</p>
</section>
<section id="parameter-ipeamplitude">
<h4>parameter IPEAmplitude<a class="headerlink" href="#parameter-ipeamplitude" title="此标题的永久链接"></a></h4>
<p>The new digitizers are equipped with an Internal Pulse Emulator capable of generating exponential pulses. This parameter determines the amplitude of the pulse.</p>
<p>Unit of Measure: ADC counts</p>
</section>
<section id="parameter-ipebaseline">
<h4>parameter IPEBaseline<a class="headerlink" href="#parameter-ipebaseline" title="此标题的永久链接"></a></h4>
<p>Sets the offset of the exponantial pulses generated by the Internal Pulse Emulator.</p>
<p>Unit of Measure: ADC counts</p>
</section>
<section id="parameter-ipedecaytime">
<h4>parameter IPEDecayTime<a class="headerlink" href="#parameter-ipedecaytime" title="此标题的永久链接"></a></h4>
<p>Sets the decay time of the exponantial pulses generated by the Internal Pulse Emulator.</p>
<p>Unit of Measure: ns</p>
</section>
<section id="parameter-iperate">
<h4>parameter IPERate<a class="headerlink" href="#parameter-iperate" title="此标题的永久链接"></a></h4>
<p>Sets the rate of the exponantial pulses generated by the Internal Pulse Emulator.</p>
<p>Unit of Measure: Hz</p>
</section>
<section id="parameter-ipetimemode">
<h4>parameter IPETimeMode<a class="headerlink" href="#parameter-ipetimemode" title="此标题的永久链接"></a></h4>
<p>Selectes the time distribution of the Internal Pulse Emulator.</p>
<ul class="simple">
<li><dl class="simple">
<dt>ConstantRate</dt><dd><ul>
<li><p>Pulse shapes are constant over time. It is possible to set the frequency using the IPERate parameter</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Poissonian</dt><dd><ul>
<li><p>The pulse rate follows a Poisson distribution. The average frequency value can be configured using the IPERate parameter</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
</section>
</section>
<section id="logic-parameter">
<h2>Logic parameter<a class="headerlink" href="#logic-parameter" title="此标题的永久链接"></a></h2>
<section id="run">
<h3>Run<a class="headerlink" href="#run" title="此标题的永久链接"></a></h3>
<img alt="../_images/psd_logic_run.png" src="../_images/psd_logic_run.png" />
<section id="parameter-startsource">
<h4>parameter StartSource<a class="headerlink" href="#parameter-startsource" title="此标题的永久链接"></a></h4>
<p>Defines the source for the start of run. Multiple options are allowed, separated by “|”.</p>
<ul class="simple">
<li><dl class="simple">
<dt>EncodedClkIn</dt><dd><ul>
<li><p>Start from CLK-IN/SYNC connector on the front panel. This is a 4-pin connector (LVDS signals) used to propagate the reference clock (typ. 62.5 MHz) and a Sync signal. The rising edge of the Sync starts the acquisition, that lasts until the Sync returns low (falling edge).</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SINlevel</dt><dd><ul>
<li><p>Start from SIN (1=run, 0=stop)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SINedge</dt><dd><ul>
<li><p>Start from SIN (rising edge = run; stop from SW)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SWcmd</dt><dd><ul>
<li><p>Start from SW</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>LVDS</dt><dd><ul>
<li><p>Start from LVDS</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>P0</dt><dd><ul>
<li><p>Start from P0 (backplane)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-globaltriggersource">
<h4>parameter GlobalTriggerSource<a class="headerlink" href="#parameter-globaltriggersource" title="此标题的永久链接"></a></h4>
<p>Defines the source for the Acquisition Trigger, which is the signal that opens the acquisition window and saves the waveforms in the memory buffers. Multiple options are allowed, separated by “|”.</p>
<ul class="simple">
<li><dl class="simple">
<dt>TrgIn</dt><dd><ul>
<li><p>Front Panel TRGIN</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>P0</dt><dd><ul>
<li><p>Trigger from P0 (backplane)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SwTrg</dt><dd><ul>
<li><p>Software trigger</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>LVDS</dt><dd><ul>
<li><p>LVDS trgin</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLA</dt><dd><ul>
<li><p>Internal Trigger Logic A: combination of channel self-triggers</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLB</dt><dd><ul>
<li><p>Internal Trigger Logic B: combination of channel self-triggers</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLA_AND_ITLB</dt><dd><ul>
<li><p>Second level Trigger logic making the AND of ITL A and B</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLA_OR_ITLB</dt><dd><ul>
<li><p>Second level Trigger logic making the OR of ITL A and B</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>EncodedClkIn</dt><dd><ul>
<li><p>Not implemented (encoded CLK-IN trigger)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>GPIO</dt><dd><ul>
<li><p>Front Panel GPIO</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TestPulse</dt><dd><ul>
<li><p>Internal Test Pulse</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>UserTrg</dt><dd><ul>
<li><p>User custom trigger source</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-enautodisarmacq">
<h4>parameter EnAutoDisarmAcq<a class="headerlink" href="#parameter-enautodisarmacq" title="此标题的永久链接"></a></h4>
<p>When enabled, the Auto Disarm option disarms the acquisition at the stop of run. When the start of run is controlled by an external signal, this option prevents the digitizer to restart without the intervention of the software.</p>
<ul class="simple">
<li><dl class="simple">
<dt>True</dt><dd><ul>
<li><p>The acquisition is automatically disarmed after the stop. It is therefore necessary to rearm the digitizer (with the relevant command sent by the software) before starting a new run.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>False</dt><dd><ul>
<li><p>The acquisition is not disarmed after the stop. Multiple transition of the start signal will produce multiple runs.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-rundelay">
<h4>parameter RunDelay<a class="headerlink" href="#parameter-rundelay" title="此标题的永久链接"></a></h4>
<p>When the start of run is controlled by a RUN signal that is propagated in daisy chain between the boards (for instance through the ClkIn- ClkOut or SIN-GPIO sync chain), it is necessary to compensate for the propagation delay and let the boards start exactly at the same time. The RunDelay parameter allows the start of the acquisition to be delayed by a given number of clock cycles with respect to the rising edge of the RUN signal. Assuming that the propagation delay is 2 cycles, the RunDelay setting will be 0 for the last board in the chain, 2 for the previous one, and so on up 2x(NB-1) for the first one.</p>
<p>Unit of Measure: ns</p>
</section>
<section id="parameter-busyinsource">
<h4>parameter BusyInSource<a class="headerlink" href="#parameter-busyinsource" title="此标题的永久链接"></a></h4>
<p>In a multi-board system, it might be necessary to prevent one board to accept a new trigger while another board is full and thus unable to accept the same trigger. For this reason, each board can generate a Busy signal to notify that it is unable to get a new trigger. If the busy/veto mechanism has some latency, it is advisable to generate the busy slightly before the digitizer become full. For this purpose, it is possible to assert the busy output when the acquisition memory reaches a certain level of occupancy (internally managed). The OR of the busy signals is typically used to stop the global trigger. It is possible to get the individual busy signals from each board and make an external OR logic or connect the boards with cables to propagate the Busy along the chain. Each board makes an OR between its internal busy and the busy input signal coming from the previous board, thus having a global Busy at the end of the line. This parameter defines the source of the Busy Input (schematized in the figure below)</p>
<img alt="../_images/busyinsource.png" src="../_images/busyinsource.png" />
<ul class="simple">
<li><dl class="simple">
<dt>Disabled</dt><dd><ul>
<li><p>The Busy is given by the Internal Busy only (Memory full or almost full)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SIN</dt><dd><ul>
<li><p>Busy input from SIN on front panel</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>GPIO</dt><dd><ul>
<li><p>Busy input coming from GPIO on front panel, used as a simple input. It is also possible to use GPIO as a wired OR (bidirectional). In this mode, the Busy line goes high as soon as one board drives it high. All the boards can read the Busy line and use it as a veto for the trigger</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>LVDS</dt><dd><ul>
<li><p>LVDS trgin</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-clocksource">
<h4>parameter ClockSource<a class="headerlink" href="#parameter-clocksource" title="此标题的永久链接"></a></h4>
<p>This is the source of the system clock. Multiple options are not allowed</p>
<ul class="simple">
<li><dl class="simple">
<dt>Internal</dt><dd><ul>
<li><p>Local oscillator, 62.5 MHz</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>FPClkIn</dt><dd><ul>
<li><p>Front Panel Clock input</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-enclockoutfp">
<h4>parameter EnClockOutFP<a class="headerlink" href="#parameter-enclockoutfp" title="此标题的永久链接"></a></h4>
<p>Enables clock output on Front Panel for the daisy chain propagation of the clock between multiple boards.</p>
<ul class="simple">
<li><dl class="simple">
<dt>True</dt><dd><ul>
<li><p>Enabled</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>False</dt><dd><ul>
<li><p>Disabled</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
</section>
<section id="frontpanel">
<h3>FrontPanel<a class="headerlink" href="#frontpanel" title="此标题的永久链接"></a></h3>
<img alt="../_images/psd_logic_frontpanel.png" src="../_images/psd_logic_frontpanel.png" />
<section id="parameter-trgoutmode">
<h4>parameter TrgOutMode<a class="headerlink" href="#parameter-trgoutmode" title="此标题的永久链接"></a></h4>
<p>Selects the signal that is routed to the TRGOUT output. Multiple options are not allowed.</p>
<ul class="simple">
<li><dl class="simple">
<dt>Disabled</dt><dd><ul>
<li><p>TRGOUT output disabled</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TrgIn</dt><dd><ul>
<li><p>Propagation of Front Panel TRGIN (TRGOUT is a replica, with some delay, of the TRGIN signal)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>P0</dt><dd><ul>
<li><p>Propagation of P0 trigger</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SwTrg</dt><dd><ul>
<li><p>Software trigger</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>LVDS</dt><dd><ul>
<li><p>LVDS trgin</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLA</dt><dd><ul>
<li><p>Internal Trigger Logic A: combination of channel self-triggers</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLB</dt><dd><ul>
<li><p>Internal Trigger Logic B: combination of channel self-triggers</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLA_AND_ITLB</dt><dd><ul>
<li><p>Second level Trigger logic making the AND of ITL A and B</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLA_OR_ITLB</dt><dd><ul>
<li><p>Second level Trigger logic making the OR of ITL A and B</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>EncodedClkIn</dt><dd><ul>
<li><p>Not implemented (propagation of the Encoded CLK-IN trigger)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Run</dt><dd><ul>
<li><p>Propagation of the RUN signal (acquisition start/stop), before applying the delay given by the RunDelay parameter</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>RefClk</dt><dd><ul>
<li><p>Monitor of the 62.5 MHz clock (used for phase alignment)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TestPulse</dt><dd><ul>
<li><p>Internal Test Pulse</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Busy</dt><dd><ul>
<li><p>Busy of the board</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>UserTrgout</dt><dd><ul>
<li><p>Trgout coming from the User Logic (open FPGA)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Fixed0</dt><dd><ul>
<li><p>0 level signal</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Fixed1</dt><dd><ul>
<li><p>1 level signal</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SyncIn</dt><dd><ul>
<li><p>SyncIn signal</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SIN</dt><dd><ul>
<li><p>SIN connector signal</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>GPIO</dt><dd><ul>
<li><p>GPIO connector signal</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>LBinClk</dt><dd><ul>
<li><p>Internal Logic B clock signal</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>AcceptTrg</dt><dd><ul>
<li><p>Accepted triggers signal</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TrgClk</dt><dd><ul>
<li><p>Tigger clock signal</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-gpiomode">
<h4>parameter GPIOMode<a class="headerlink" href="#parameter-gpiomode" title="此标题的永久链接"></a></h4>
<p>Selects the signal that is routed to the GPIO, when this is used as output. Multiple options are not allowed. The GPIO on the front panel is a bidirectional signal that can used in three different ways:</p>
<blockquote>
<div><p>As independent board output (each board drives its own GPIO)</p>
<p>As a shared input for the boards: the signal is driven high (= 1) or low (= 0) by an external source and connected in “short circuit” among multiple boards using “T” connectors at the inputs. The GPIO is not internally terminated, thus it is necessary to put a 50 Ohm terminator at the end of the line (last “T”of the chain)</p>
<p>As a shared bidirectional line, making a “wired OR”. One or more boards can simultaneously drive the signal high (= 1). If no board drives the GPIO, it remains low (= 0). All boards can read back the signal. It is necessary to put a 50 Ohm terminator at both ends of the line (first and last “T” of the chain). This mode can be used to generate, for instance, the global Busy and Veto logic for multiple boards.</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>Disabled</dt><dd><ul>
<li><p>GPIO disabled</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TrgIn</dt><dd><ul>
<li><p>Propagation of Front Panel TRGIN (GPIO is a replica, with some delay, of the TRGIN signal)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>P0</dt><dd><ul>
<li><p>Propagation of P0 trigger</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SIN</dt><dd><ul>
<li><p>Propagation of SIN</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>LVDS</dt><dd><ul>
<li><p>LVDS trgin</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLA</dt><dd><ul>
<li><p>Internal Trigger Logic A: combination of channel self-triggers</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLB</dt><dd><ul>
<li><p>Internal Trigger Logic B: combination of channel self-triggers</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLA_AND_ITLB</dt><dd><ul>
<li><p>Second level Trigger logic making the AND of ITL A and B</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLA_OR_ITLB</dt><dd><ul>
<li><p>Second level Trigger logic making the OR of ITL A and B</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>EncodedClkIn</dt><dd><ul>
<li><p>Not implemented (propagation of the Encoded CLK-IN trigger)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SwTrg</dt><dd><ul>
<li><p>Software trigger</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Run</dt><dd><ul>
<li><p>Propagation of RUN</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>RefClk</dt><dd><ul>
<li><p>Monitor of the 62.5 MHz clock (used for phase alignment)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TestPulse</dt><dd><ul>
<li><p>Internal Test Pulse</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Busy</dt><dd><ul>
<li><p>Busy of the board</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>UserGPO</dt><dd><ul>
<li><p>GPO coming from the User Logic (open FPGA)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Fixed0</dt><dd><ul>
<li><p>0 level signal</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Fixed1</dt><dd><ul>
<li><p>1 level signal</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-syncoutmode">
<h4>parameter SyncOutMode<a class="headerlink" href="#parameter-syncoutmode" title="此标题的永久链接"></a></h4>
<p>In a multi-board system, it can be useful to propagate a synchronous signal together with the clock (to synchronize the start of the run, for example) on CLK OUT front panel connector. This parameter defines which signal must be sent out. Multiple options are not allowed.</p>
<ul class="simple">
<li><dl class="simple">
<dt>Disabled</dt><dd><ul>
<li><p>SyncoutMode is disabled</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SyncIn</dt><dd><ul>
<li><p>SyncIn signal (if provided with clkIn on CLK IN connector)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TestPulse</dt><dd><ul>
<li><p>Internal Test Pulse</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>IntClk</dt><dd><ul>
<li><p>Internal 62.5 MHz clock (for test purposes)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Run</dt><dd><ul>
<li><p>Propagation of RUN signal</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>User</dt><dd><ul>
<li><p>User customSyncoutMode</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-iolevel">
<h4>parameter IOlevel<a class="headerlink" href="#parameter-iolevel" title="此标题的永久链接"></a></h4>
<p>Sets the electrical logic level of the LEMO I/Os (TRGIN, SIN, TRGOUT, GPIO).</p>
<p>Note that TRGIN and SIN are internally terminated to 50 Ohm, while GPIO and TRGOUT require the termination to 50 Ohms at the receiver</p>
<ul class="simple">
<li><dl class="simple">
<dt>NIM</dt><dd><ul>
<li><p>NIM logic (0 = 0V, 1 = -0.8V, that is -16mA)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TTL</dt><dd><ul>
<li><p>Low Voltage TLL logic (0 = 0V, 1 = 3.3V)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-lvdsdirection">
<h4>parameter LVDSDirection<a class="headerlink" href="#parameter-lvdsdirection" title="此标题的永久链接"></a></h4>
<p>Assigns the direction to a quartet of LVDS I/Os.</p>
<ul class="simple">
<li><dl class="simple">
<dt>Input</dt><dd><ul>
<li><p>The LVDS lines of the relevant quartet are used as input. The relevant LED on the front panel is OFF.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Output</dt><dd><ul>
<li><p>The LVDS lines of the relevant quartet are used as output. The relevant LED on the front panel lights-up.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-lvdsmode">
<h4>parameter LVDSMode<a class="headerlink" href="#parameter-lvdsmode" title="此标题的永久链接"></a></h4>
<p>The digitizer is equipped with 16 LVDS I/Os that can be programmed to be inputs or outputs by groups of 4 (quartets), depending on the LVDSDirection parameter. Once the direction has been selected, it is possible to select the functionality of the LVDS lines, individually for each quartet.</p>
<ul class="simple">
<li><dl class="simple">
<dt>SelfTriggers</dt><dd><ul>
<li><p>This option is available only when the LVDS are set as outputs. Each LVDS line can be assigned to a combination of the 64 self-triggers, implemented as a masked OR, where the mask is set by the LVDSTrgMask parameter(16 independent masks, one per LVDS line)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Sync</dt><dd><ul>
<li><p>Whatever is the direction of the quartet, the 4 lines are rigidly assigned to specific acquisition signals: 0 = Run 1 = Trigger 2 = Busy 3= Veto It is possible to implement a daisy chain distribution of these signals using one quartet as input and another one as output</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>IORegister</dt><dd><ul>
<li><p>The LVDS lines of the quartet are statically controlled by the LVDSIOReg parameter. Use the SetValue function to set the relevant LVDS lines when programmed as output. Use GetValue to read the status of the LVDS lines when programmed as inputs.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>User</dt><dd><ul>
<li><p>User custom.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-lvdstrgmask">
<h4>parameter LVDSTrgMask<a class="headerlink" href="#parameter-lvdstrgmask" title="此标题的永久链接"></a></h4>
<p>Each LVDS line can be assigned to a combination of the 64 self-triggers, implemented as a masked OR, where the mask is set by this parameter. There are 16 independent masks, one per LVDS line. Note that the trigger mask assignment does not imply the LVDS direction and mode settings. It is therefore necessary to set the Direction = Output and Mode = SelfTriggers to use the Self-Trigger propagation to the LVDS I/Os.</p>
</section>
<section id="parameter-lvdsioreg">
<h4>parameter LVDSIOReg<a class="headerlink" href="#parameter-lvdsioreg" title="此标题的永久链接"></a></h4>
<p>Set the status of the LVDS I/O for the quartets when they are programmed to be output and Mode = IORegister. This parameter reads out the status of the quartets in the case the LVDS I/O are programmed as inputs (possibly externally driven).</p>
</section>
</section>
<section id="veto">
<h3>Veto<a class="headerlink" href="#veto" title="此标题的永久链接"></a></h3>
<img alt="../_images/psd_logic_veto.png" src="../_images/psd_logic_veto.png" />
<section id="parameter-channelvetosource">
<h4>parameter ChannelVetoSource<a class="headerlink" href="#parameter-channelvetosource" title="此标题的永久链接"></a></h4>
<p>Allows to set the veto for each channel; it can be external (which means one of the veto options in the previous table), or it can be on a channel base.</p>
<ul class="simple">
<li><dl class="simple">
<dt>Disabled</dt><dd><ul>
<li><p>Any channel veto source is disabled</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>BoardVeto</dt><dd><ul>
<li><p>Enables board veto</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>ADCOverSaturation: Enables veto due to ADC oversaturation</p></li>
<li><p>ADCUnderSaturation: Enables veto due to ADC undersaturation</p></li>
</ul>
</section>
<section id="parameter-adcvetowidth">
<h4>parameter ADCVetoWidth<a class="headerlink" href="#parameter-adcvetowidth" title="此标题的永久链接"></a></h4>
<p>It is the width of the ADC veto (undersaturation and oversaturation width) expressed in ns.</p>
<p>Unit of Measure: ns</p>
</section>
<section id="parameter-vetosource">
<h4>parameter VetoSource<a class="headerlink" href="#parameter-vetosource" title="此标题的永久链接"></a></h4>
<p>Defines the source for the Veto, which is the signal that inhibits the acquisition trigger. Multiple options are allowed, separated by “|”. The VETO signal can be either active high or low, depending on the VetoPolarity parameter. When active low, it acts as a GATE for the trigger. It is possible to stretch the duration of the VETO by means of the parameter VetoWidth.</p>
<ul class="simple">
<li><dl class="simple">
<dt>Disabled</dt><dd><ul>
<li><p>VETO is always OFF</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SIN</dt><dd><ul>
<li><p>SIN on the front panel</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>GPIO</dt><dd><ul>
<li><p>GPIO on the front panel (used as input)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>LVDS</dt><dd><ul>
<li><p>LVDS trgin</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>P0</dt><dd><ul>
<li><p>P0 (signal from the backplane)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>EncodedClkIn</dt><dd><ul>
<li><p>Not implemented (encoded CLK-IN veto)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-vetowidth">
<h4>parameter VetoWidth<a class="headerlink" href="#parameter-vetowidth" title="此标题的永久链接"></a></h4>
<p>Whatever is the source of the VETO signal, it is possible to stretch the duration of the veto up to a given time by means of a re-triggerable monostable. When 0, the monostable is disabled and the veto lasts as long as the selected source is active.</p>
<p>Unit of Measure: ns</p>
</section>
<section id="parameter-vetopolarity">
<h4>parameter VetoPolarity<a class="headerlink" href="#parameter-vetopolarity" title="此标题的永久链接"></a></h4>
<p>Defines the polarity of the Veto</p>
<ul class="simple">
<li><dl class="simple">
<dt>ActiveHigh</dt><dd><ul>
<li><p>Veto is active high. The signal acts as an “Inhibit” for the trigger</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ActiveLow</dt><dd><ul>
<li><p>Veto is active low. The signal acts as a “Gate” the trigger</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
</section>
<section id="itl">
<h3>ITL<a class="headerlink" href="#itl" title="此标题的永久链接"></a></h3>
<img alt="../_images/psd_logic_itl.png" src="../_images/psd_logic_itl.png" />
<img alt="../_images/logic_diagram.png" src="../_images/logic_diagram.png" />
<section id="parameter-itla-bmask">
<h4>parameter ITLA/BMask<a class="headerlink" href="#parameter-itla-bmask" title="此标题的永久链接"></a></h4>
<p>Enable Mask at the input of the ITLA/B.</p>
</section>
<section id="parameter-itla-bpairlogic">
<h4>parameter ITLA/BPairLogic<a class="headerlink" href="#parameter-itla-bpairlogic" title="此标题的永久链接"></a></h4>
<p>Pairs of channels can be combined with an OR or AND before feeding in the Main trigger Logic. This is typically used in the readout of tubes or scintillator bars, where the two ends are read in coincidence, for instance in position sensitive detectors (the coincidence window will be set by the SelfTriggerWidth parameter). When the AND/OR logic is applied, the two outputs of the Pair Logic blocks are identical.</p>
<p>Note that they are counted twice in the following Majority logic. If the Pair Logic is disabled (“NONE” option), the block is transparent, and the two outputs are just a replica of the inputs.</p>
<ul class="simple">
<li><dl class="simple">
<dt>OR</dt><dd><ul>
<li><p>Both Pair Logic Outputs = OR of two consecutive self-triggers</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>AND</dt><dd><ul>
<li><p>Both Pair Logic Outputs = AND of two consecutive self-triggers</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>NONE</dt><dd><ul>
<li><p>Outputs = Inputs</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-itla-bmainlogic">
<h4>parameter  ITLA/BMainLogic<a class="headerlink" href="#parameter-itla-bmainlogic" title="此标题的永久链接"></a></h4>
<p>Each channel of the digitizer feature a digital bipolar triangular filter discriminator with programmable rise time and threshold able to self-trigger on the input pulses and generate a self-trigger signal. In DPP Mode, the channels acquire independently, so the channel self-trigger is used locally to acquire a waveform. The trigger threshold is then referred to the bipolar triangular filter, and the threshold crossing arms the event selection. The trigger fires at the zero crossing of the time filter signal. The user can see the derivative trace on the signal inspector. It is also possible to combine all the self-triggers of the board, according to a specific trigger logic. There are two independent logic blocks, ITLA and ITLB. Their output can be used separately to feed, for instance, AcqTrigger and TrgOut, or combined in a second level trigger logic to implement more complex trigger schemes. Therefore, the ITLs can either generate the local acquisition trigger, common to all the channels, for the acquisition of the waveform, or propagate the signal outside, through the TRGOUT, thus making it possible to combine triggers of multiple boards in an external trigger logic, that eventually feeds back the TRGIN of the digitizers. Each ITL is made of an input enable mask (64 bits, one per channel), an optional pairing logic that combines the self triggers of two consecutive channels (e.g. paired coincidence) and the main trigger logic that combines the 64 selftriggers with an OR, AND or Majority logic. The output can be linear (no stretching) or reshaped by a programmable gate generator, either re-triggerable or not and finally programmed for polarity (direct or inverted).</p>
<ul class="simple">
<li><dl class="simple">
<dt>OR</dt><dd><ul>
<li><p>ITLOUT = masked OR of channel self-triggers</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>AND</dt><dd><ul>
<li><p>ITLOUT = masked AND of channel self-triggers</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Majority</dt><dd><ul>
<li><p>ITLOUT = masked Majority of channel self-triggers</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-itla-bmajoritylev">
<h4>parameter ITLA/BMajorityLev<a class="headerlink" href="#parameter-itla-bmajoritylev" title="此标题的永久链接"></a></h4>
<p>Defines the majority level of the Main Logic of the ITL A/B block. The majority output is calculated at every clock cycle, and it becomes TRUE when Nch &gt;= MajLev, where Nch is the number of self-triggers active in that clock cycle and MajLev is the programmed majority level.</p>
<p>Note that when the Pair Logic is used to combine the self triggers two by two (AND/OR), each pair produces two identical signals that will be counted twice in the majority level.</p>
</section>
<section id="parameter-itla-bgatewidth">
<h4>parameter ITLA/BGateWidth<a class="headerlink" href="#parameter-itla-bgatewidth" title="此标题的永久链接"></a></h4>
<p>Width of the gate generator at the output of the ITLA/B block.</p>
<p>Unit of Measure: ns</p>
</section>
<section id="parameter-itla-bpolarity">
<h4>parameter ITLA/BPolarity<a class="headerlink" href="#parameter-itla-bpolarity" title="此标题的永久链接"></a></h4>
<p>Polarity of the gate generator output.</p>
<ul class="simple">
<li><dl class="simple">
<dt>Direct</dt><dd><ul>
<li><p>Direct polarity</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Inverted</dt><dd><ul>
<li><p>Inverted polarity</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-itla-benretrigger">
<h4>parameter ITLA/BEnRetrigger<a class="headerlink" href="#parameter-itla-benretrigger" title="此标题的永久链接"></a></h4>
<p>Set the ITLA/B to be retriggerable.</p>
<ul class="simple">
<li><dl class="simple">
<dt>True</dt><dd><ul>
<li><p>The ITLA/B is retriggerable</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>False</dt><dd><ul>
<li><p>The ITLA/B is not retriggerable</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
</section>
<section id="mask">
<h3>mask<a class="headerlink" href="#mask" title="此标题的永久链接"></a></h3>
<img alt="../_images/psd_logic_mask.png" src="../_images/psd_logic_mask.png" />
<section id="parameter-itlconnect">
<h4>parameter ITLConnect<a class="headerlink" href="#parameter-itlconnect" title="此标题的永久链接"></a></h4>
<p>Alternative to ITLAMask, ITLBMask. Determines if the channel partecipate in ITLA or ITLB</p>
<ul class="simple">
<li><dl class="simple">
<dt>Disabled</dt><dd><ul>
<li><p>The channel is disabled</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLA</dt><dd><ul>
<li><p>The channel participates in ITLA logic block</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLB</dt><dd><ul>
<li><p>The channel participates in ITLB logic block</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-channelstriggermask">
<h4>parameter ChannelsTriggerMask<a class="headerlink" href="#parameter-channelstriggermask" title="此标题的永久链接"></a></h4>
<p>Allows to set the mask over 64 bits to generate a channel trigger. It can be used to trigger a channel using a trigger coming from another channel. It also allows to set the mask over 64 bits to enable the channel to participate in the coincidence logic defined in CoincidenceMask and AntiCoincidenceMask (option Channel64Trg). 64-bit enable mask, each bit representing a channel.</p>
</section>
<section id="parameter-coincidencemask">
<h4>parameter CoincidenceMask<a class="headerlink" href="#parameter-coincidencemask" title="此标题的永久链接"></a></h4>
<p>Allows to set the coincidence mask that generates a trigger on the specified channel.</p>
<ul class="simple">
<li><dl class="simple">
<dt>Disabled</dt><dd><ul>
<li><p>All the coincidence sources are disabled</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Ch64Trigger</dt><dd><ul>
<li><p>One of the 64 channels can generate a coincidence signal</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TRGIN</dt><dd><ul>
<li><p>TRGIN can generate a coincidence signal</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>GlobalTriggerSource</dt><dd><ul>
<li><p>Acquisition Trigger can generate a coincidence signal</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLA</dt><dd><ul>
<li><p>ITLA can generate a coincidence signal</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLB</dt><dd><ul>
<li><p>ITLB can generate a coincidence signal</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-anticoincidencemask">
<h4>parameter AntiCoincidenceMask<a class="headerlink" href="#parameter-anticoincidencemask" title="此标题的永久链接"></a></h4>
<p>Allows to set the anticoincidence mask that generates a trigger on the specified channel.</p>
<ul class="simple">
<li><dl class="simple">
<dt>Disabled</dt><dd><ul>
<li><p>All the coincidence sources are disabled</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Ch64Trigger</dt><dd><ul>
<li><p>One of the 64 channels can generate a coincidence signal</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TRGIN</dt><dd><ul>
<li><p>TRGIN can generate a coincidence signal</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>GlobalTriggerSource</dt><dd><ul>
<li><p>Acquisition Trigger can generate a coincidence signal</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLA</dt><dd><ul>
<li><p>ITLA can generate a coincidence signal</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ITLB</dt><dd><ul>
<li><p>ITLB can generate a coincidence signal</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="parameter-coincidencelength">
<h4>parameter CoincidenceLength<a class="headerlink" href="#parameter-coincidencelength" title="此标题的永久链接"></a></h4>
<p>Coincidence window length in nanoseconds (ns). 16-bit value.</p>
<p>Unit of Measure: ns</p>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="PHA.html" class="btn btn-neutral float-left" title="PHA firmware" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="ZLE.html" class="btn btn-neutral float-right" title="ZLE firmware" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2021, Hongyi Wu(吴鸿毅)。</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>